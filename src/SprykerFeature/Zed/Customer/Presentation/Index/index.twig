{% extends '@Application/layout.twig' %}

{% block body_class %}spy-page{% endblock %}

{% block title_content %}Customer{% endblock %}

{% block content %}
    <section
            class="spy-grid"
            spy-app="spyGrid,spyForm,spyFormAction"
            ng-controller="GridController"
            ng-strict-di
            src="/customer/index/grid"
            name="grid"
            on="{ form_success : 'update' }"
            ng-class="{ query : queryActive }"
            >

        <h3>{{ "customer.index" | trans }}</h3>

        <div spy-grid-pages="pages" labels="{ items : 'Show items %n', pages : 'Page %n of %m' }"></div>

        <table class="spy-grid spy-interactive">
            <thead>
            <tr>
                <th spy-grid-head="columns['first_name']" label="Vorname"></th>
                <th spy-grid-head="columns['last_name']" label="Nachname"></th>
                <th spy-grid-head="columns['email']" label="E-Mail"></th>
                <th spy-grid-head="columns['created_at']" label="Signed Up"></th>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="row in rows">
                <td><a class="cell" href="/customer/profile?id={[{ row.id_customer }]}">{[{ row.first_name + ' ' + row.middle_name + ' ' + row.last_name }]}</a></td>
                <td>{[{ row.email }]}</td>
                <td>{[{ row.created_at }]}</td>
            </tr>
            <tr ng-if="!rows.length">
                <td colspan="4">{{ "grid.no.results" | trans }}</td>
            </tr>
            </tbody>

        </table>

        <div spy-grid-pages="pages" labels="{ items : 'Show items %n', pages : 'Page %n of %m' }"></div>

    </div>

    </section>
{% endblock %}